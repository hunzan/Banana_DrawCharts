<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>è•‰åœ–è¡¨ğŸŒéµç›¤å‹å–„ä»‹é¢åœ–è¡¨ç¹ªè£½å·¥å…·</title>
  <link rel="stylesheet" href="style.css">
  <link rel="icon" href="bananachart.ico" type="image/x-icon">
  <link rel="shortcut icon" href="bananachart.ico" type="image/x-icon">
</head>
<body>
  <main role="main" aria-labelledby="pageTitle" aria-describedby="description">
    <h1 id="pageTitle">æ­¡è¿ä½¿ç”¨è•‰åœ–è¡¨ğŸŒ</h1>
    <p aria-label="å·¥å…·ç°¡ä»‹" tabindex="0">éµç›¤æ“ä½œå‹å–„çš„çµ±è¨ˆåœ–è¡¨ç¹ªè£½å·¥å…·</p>
    <p aria-label="å·¥å…·ç°¡ä»‹" tabindex="0">ç‚ºç„¡éšœç¤™ç’°å¢ƒè€Œé–‹ç™¼çš„æ•™å­¸å’Œè·å ´å¥½å¹«æ‰‹</p>

    <button id="csvHelpBtn" style="background-color: #eef; border: 1px solid #99c; padding: 0.5em 1em; border-radius: 5px;">
    ğŸ“˜ æœ¬å·¥å…·ä½¿ç”¨èªªæ˜
    </button>

    <label for="chartTitle">åœ–è¡¨åç¨±ï¼š</label>
    <input type="text" id="chartTitle" aria-label="åœ–è¡¨åç¨±" aria-describedby="description">

    <label for="csvInput">è¼‰å…¥ CSVï¼š</label>
    <!-- ç”¨ä¾†é¸æ“‡ CSV æª”æ¡ˆçš„éš±è—æª”æ¡ˆè¼¸å…¥æ¡† -->
    <input type="file" id="csvInput" accept=".csv" style="display:none" />
    <!-- è®“ä½¿ç”¨è€…é»æ“Šé€™å€‹æŒ‰éˆ•æ™‚ï¼Œè§¸ç™¼æ‰“é–‹æª”æ¡ˆé¸æ“‡è¦–çª— -->
    <button id="csvButton">è¼‰å…¥ CSV æª”æ¡ˆ</button>

    <label for="xLabel">X è»¸åç¨±ï¼ï¼ˆå–®ä½ï¼‰ï¼š</label>
    <input type="text" id="xLabel" aria-label="X è»¸åç¨± å–®ä½">

    <label for="xLabels">X è»¸æ¨™ç±¤ï¼ˆè«‹ä»¥é€—è™Ÿæˆ–æ›è¡Œåˆ†éš”ï¼‰ï¼š</label>
    <textarea id="xLabels" aria-label="X è»¸æ¨™ç±¤è¼¸å…¥ï¼Œè«‹ä»¥é€—è™Ÿæˆ–æ›è¡Œåˆ†éš”" rows="3" placeholder="ä¾‹å¦‚ï¼šä¸€æœˆ, äºŒæœˆ, ä¸‰æœˆ"></textarea>

    <section id="itemsSection" aria-label="å¤šçµ„ X è»¸è³‡æ–™è¼¸å…¥å€"></section>

    <button id="addItemBtn" aria-label="æ–°å¢Xè»¸é …ç›®ï¼Œæœ€å¤š9é …ï¼Œæ¯é …å¯é¸é¡è‰²">æ–°å¢Xè»¸é …ç›®</button>

    <label for="yLabel">Y è»¸åç¨±ï¼ï¼ˆå–®ä½ï¼‰ï¼š</label>
    <input type="text" id="yLabel" aria-label="Y è»¸åç¨± å–®ä½">

    <div class="chart-option-group">
      <label for="chartType">åœ–è¡¨é¡å‹ï¼š</label>
      <select id="chartType" aria-label="åœ–è¡¨é¡å‹">
        <option value="bar">ç›´æ¢åœ–</option>
        <option value="horizontalBar">æ©«æ¢åœ–</option>
        <option value="stackedBar">å †ç–Šç›´æ¢åœ–</option>
        <option value="stackedHorizontalBar">å †ç–Šæ©«æ¢åœ–</option>
        <option value="line">æŠ˜ç·šåœ–</option>
        <option value="area">å€åŸŸåœ–</option>
        <option value="radar">é›·é”åœ–</option>
        <option value="mixed">æ··åˆåœ–ï¼ˆæŠ˜ç·šï¼‹ç›´æ¢ï¼‰</option>
        <option value="pie">åœ“é¤…åœ–</option>
        <option value="doughnut">ç”œç”œåœˆåœ–</option>
        <option value="polarArea">æ¥µå€åœ–</option>

      </select>
    </div>

    <button id="drawChartBtn" aria-label="ç¹ªè£½åœ–è¡¨">ç¹ªè£½åœ–è¡¨</button>
    <button id="clearBtn" aria-label="æ¸…é™¤åœ–è¡¨">æ¸…é™¤</button>
    <button id="copyBtn" aria-label="è¤‡è£½åœ–è¡¨">è¤‡è£½åœ–è¡¨</button>

    <label for="downloadFormat">ä¸‹è¼‰æ ¼å¼ï¼š</label>
    <select id="downloadFormat" aria-label="ä¸‹è¼‰æ ¼å¼">
      <option value="png">PNG</option>
      <option value="csv">CSV</option>
    </select>
    <button id="downloadBtn" aria-label="ä»¥å¦å­˜æ–°æª”æ–¹å¼ä¸‹è¼‰åœ–è¡¨">å¦å­˜æ–°æª”</button>

    <canvas id="myChart" width="600" height="400" role="img" aria-label="ç¹ªè£½çš„åœ–è¡¨"></canvas>
    <div id="liveRegion" aria-live="polite" aria-atomic="true"
         style="position:absolute; left:-9999px; width:1px; height:1px; overflow:hidden;">
    </div>
    
  </main>

  <footer>
    <p>Â© 2025 é–‹ç™¼è€…ï¼šLÃ®m A-kÃ¢uï¼ˆæ—é˜¿çŒ´ï¼‰& Kim Chioï¼ˆé‡‘è•‰ï¼‰ï¼Œä¾›å…è²»æ•™å­¸åŠå­¸ç¿’ä½¿ç”¨ã€‚</p>
  </footer>

<script>
// ä¸Šé¢é€™æ®µ focus æ§åˆ¶é‚è¼¯è²¼åœ¨é€™è£¡
window.addEventListener('DOMContentLoaded', () => {
  const firstInput = document.getElementById('firstInput');

  function enableFocusOnce() {
    firstInput.focus();
    window.removeEventListener('keydown', enableFocusOnce);
    window.removeEventListener('mousedown', enableFocusOnce);
  }

  window.addEventListener('keydown', enableFocusOnce);
  window.addEventListener('mousedown', enableFocusOnce);
});
</script>

<script>
  window.addEventListener('DOMContentLoaded', () => {
    const helpButton = document.getElementById('csvHelpBtn');
    if (helpButton) {
      helpButton.focus();
    }
  });
</script>

<script src="./libs/chart.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
<script src="app.js"></script>

</body>
</html>